<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tactical RPG Battle</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body data-game-state="setup">
  <h1>‚öîÔ∏è Tactical RPG Battle</h1>
  
  <!-- Message Display -->
  <div id="message"></div>
  
  <!-- Setup Phase Controls -->
  <div id="unit-pool-container">
    <h2>üßë‚Äçü§ù‚Äçüßë Available Units</h2>
    <p class="drag-instructions">Drag and drop units into your zone (green area)</p>
    <p class="tap-instructions hidden">Tap a unit to select, then tap a green zone to place it</p>
    
    <!-- Add this budget display -->
    <div class="budget-display">
      <span>Team Budget: </span>
      <span id="budget-count">0 / 12</span>
    </div>
    
    <div id="unit-pool" class="pool"></div>
    
    <!-- Mobile Controls (only visible on small screens) -->
    <div id="mobile-controls" class="hidden">
      <button id="cancel-selection-btn" class="mobile-action-btn hidden">Cancel Selection</button>
      <button id="remove-unit-btn" class="mobile-action-btn hidden">Remove Selected Unit</button>
    </div>
  </div>
  
  <div class="main-controls">
    <button id="battle-btn">Start Battle</button>
  </div>

  <!-- Battle Controls -->
  <div id="battle-controls" class="hidden">
    <div id="result-text"></div>
    <button id="reset-btn" class="hidden">Reset Game</button>
  </div>
  
  <!-- Battlefield -->
  <h2>Battlefield</h2>
  <div id="battle-grid" class="grid-wide"></div>
  
  <!-- Battle Log -->
  <div id="battle-log-container" class="hidden">
    <h2>üìù Battle Log</h2>
    <div id="battle-log"></div>
  </div>
  
  <!-- Device detection script -->
  <script>
    // Check if the device is touch-enabled
    window.isTouchDevice = 'ontouchstart' in window || navigator.msMaxTouchPoints;
    
    // Add device type as data attribute to the body
    document.body.dataset.deviceType = window.isTouchDevice ? 'touch' : 'desktop';
    
    // Update UI based on device type
    if (window.isTouchDevice) {
      document.querySelector('.drag-instructions').classList.add('hidden');
      document.querySelector('.tap-instructions').classList.remove('hidden');
      document.getElementById('mobile-controls').classList.remove('hidden');
    }
  </script>
  
  <script src="game.js"></script>
</body>
</html>